from summarizer_fast import summarize
import time

if __name__ == "__main__":
    # 간단한 테스트 텍스트
    test_cases = [
        {
            "name": "짧은 텍스트",
            "text": """
            인공지능 기술이 빠르게 발전하면서 다양한 산업 분야에서 활용되고 있다. 
            특히 자연어 처리 분야에서는 대규모 언어 모델이 등장하여 기계 번역, 요약, 질의응답 등의 작업에서 뛰어난 성능을 보이고 있다. 
            이러한 기술 발전은 앞으로 더욱 가속화될 것으로 예상되며, 우리의 일상생활에도 큰 변화를 가져올 것이다.
            """
        },
        {
            "name": "중간 길이 텍스트",
            "text": """
            최근 코로나19 팬데믹으로 인해 전 세계 경제가 큰 타격을 받았다. 
            많은 기업들이 문을 닫았고, 수많은 사람들이 일자리를 잃었다. 
            정부들은 경제 회복을 위해 다양한 정책을 시행하고 있으며, 특히 중소기업 지원과 고용 안정에 중점을 두고 있다. 
            또한 디지털 전환을 가속화하여 새로운 성장 동력을 찾으려는 노력도 계속되고 있다. 
            이러한 노력들이 결실을 맺어 경제가 점차 회복세를 보이고 있지만, 여전히 많은 도전 과제가 남아있다.
            """
        },
        {
            "name": "긴 텍스트",
            "text": """
            기후 변화는 현재 인류가 직면한 가장 심각한 문제 중 하나이다. 
            지구 온난화로 인해 극지방의 빙하가 녹고 있고, 해수면이 상승하고 있으며, 이상 기후 현상이 빈번하게 발생하고 있다. 
            이러한 변화는 생태계에 큰 영향을 미치고 있으며, 많은 동식물 종들이 멸종 위기에 처해 있다. 
            또한 인간의 생활에도 직접적인 영향을 미치고 있어, 농작물 생산량 감소, 물 부족, 자연재해 증가 등의 문제가 발생하고 있다. 
            이러한 문제를 해결하기 위해 전 세계적으로 탄소 배출량을 줄이기 위한 노력이 진행되고 있다. 
            재생 가능 에너지 사용 확대, 전기 자동차 보급, 에너지 효율 향상 등의 정책들이 시행되고 있으며, 
            많은 기업들도 친환경 경영을 추진하고 있다. 
            그러나 이러한 노력만으로는 부족하며, 더욱 적극적인 대응이 필요하다는 지적이 나오고 있다.
            """ * 2
        }
    ]

    print("=" * 70)
    print("Fast 모델 테스트 (다양한 길이의 텍스트)")
    print("=" * 70)

    for i, test_case in enumerate(test_cases, 1):
        print(f"\n{'='*70}")
        print(f"테스트 {i}: {test_case['name']}")
        print(f"{'='*70}")
        print(f"원문 길이: {len(test_case['text'])} 글자")
        
        start_time = time.time()
        summary = summarize(test_case['text'], chunk_chars=1500, max_len=300)
        elapsed_time = time.time() - start_time
        
        print(f"\n요약 결과:")
        print(f"  {summary}")
        print(f"\n요약 길이: {len(summary)} 글자")
        print(f"소요 시간: {elapsed_time:.2f}초")
        if elapsed_time > 0:
            print(f"처리 속도: {len(test_case['text']) / elapsed_time:.0f} 글자/초")
        
        print()

    print("=" * 70)
    print("모든 테스트 완료!")
    print("=" * 70)

